20221202-023256
0.09839105606079102
898509
{'backbone.backbone.stem.conv.bn': 9, 'backbone.backbone.dark2.0.dconv.bn': 5, 'backbone.backbone.dark2.0.pconv.bn': 32, 'backbone.backbone.dark2.1.conv1.bn': 12, 'backbone.backbone.dark2.1.conv2.bn': 16, 'backbone.backbone.dark2.1.conv3.bn': 10, 'backbone.backbone.dark2.1.m.0.conv1.bn': 1, 'backbone.backbone.dark2.1.m.0.conv2.dconv.bn': 16, 'backbone.backbone.dark2.1.m.0.conv2.pconv.bn': 15, 'backbone.backbone.dark3.0.dconv.bn': 32, 'backbone.backbone.dark3.0.pconv.bn': 64, 'backbone.backbone.dark3.1.conv1.bn': 8, 'backbone.backbone.dark3.1.conv2.bn': 30, 'backbone.backbone.dark3.1.conv3.bn': 39, 'backbone.backbone.dark3.1.m.0.conv1.bn': 6, 'backbone.backbone.dark3.1.m.0.conv2.dconv.bn': 26, 'backbone.backbone.dark3.1.m.0.conv2.pconv.bn': 21, 'backbone.backbone.dark3.1.m.1.conv1.bn': 11, 'backbone.backbone.dark3.1.m.1.conv2.dconv.bn': 22, 'backbone.backbone.dark3.1.m.1.conv2.pconv.bn': 25, 'backbone.backbone.dark3.1.m.2.conv1.bn': 15, 'backbone.backbone.dark3.1.m.2.conv2.dconv.bn': 8, 'backbone.backbone.dark3.1.m.2.conv2.pconv.bn': 23, 'backbone.backbone.dark4.0.dconv.bn': 1, 'backbone.backbone.dark4.0.pconv.bn': 123, 'backbone.backbone.dark4.1.conv1.bn': 16, 'backbone.backbone.dark4.1.conv2.bn': 64, 'backbone.backbone.dark4.1.conv3.bn': 108, 'backbone.backbone.dark4.1.m.0.conv1.bn': 13, 'backbone.backbone.dark4.1.m.0.conv2.dconv.bn': 52, 'backbone.backbone.dark4.1.m.0.conv2.pconv.bn': 33, 'backbone.backbone.dark4.1.m.1.conv1.bn': 38, 'backbone.backbone.dark4.1.m.1.conv2.dconv.bn': 30, 'backbone.backbone.dark4.1.m.1.conv2.pconv.bn': 44, 'backbone.backbone.dark4.1.m.2.conv1.bn': 42, 'backbone.backbone.dark4.1.m.2.conv2.dconv.bn': 7, 'backbone.backbone.dark4.1.m.2.conv2.pconv.bn': 61, 'backbone.backbone.dark5.0.dconv.bn': 11, 'backbone.backbone.dark5.0.pconv.bn': 256, 'backbone.backbone.dark5.1.conv1.bn': 127, 'backbone.backbone.dark5.1.conv2.bn': 234, 'backbone.backbone.dark5.2.conv1.bn': 128, 'backbone.backbone.dark5.2.conv2.bn': 128, 'backbone.backbone.dark5.2.conv3.bn': 254, 'backbone.backbone.dark5.2.m.0.conv1.bn': 71, 'backbone.backbone.dark5.2.m.0.conv2.dconv.bn': 123, 'backbone.backbone.dark5.2.m.0.conv2.pconv.bn': 128, 'backbone.lateral_conv0.bn': 126, 'backbone.C3_p4.conv1.bn': 59, 'backbone.C3_p4.conv2.bn': 62, 'backbone.C3_p4.conv3.bn': 121, 'backbone.C3_p4.m.0.conv1.bn': 40, 'backbone.C3_p4.m.0.conv2.dconv.bn': 26, 'backbone.C3_p4.m.0.conv2.pconv.bn': 64, 'backbone.reduce_conv1.bn': 54, 'backbone.C3_p3.conv1.bn': 18, 'backbone.C3_p3.conv2.bn': 15, 'backbone.C3_p3.conv3.bn': 28, 'backbone.C3_p3.m.0.conv1.bn': 11, 'backbone.C3_p3.m.0.conv2.dconv.bn': 15, 'backbone.C3_p3.m.0.conv2.pconv.bn': 30, 'backbone.bu_conv2.dconv.bn': 9, 'backbone.bu_conv2.pconv.bn': 64, 'backbone.C3_n3.conv1.bn': 64, 'backbone.C3_n3.conv2.bn': 62, 'backbone.C3_n3.conv3.bn': 116, 'backbone.C3_n3.m.0.conv1.bn': 34, 'backbone.C3_n3.m.0.conv2.dconv.bn': 32, 'backbone.C3_n3.m.0.conv2.pconv.bn': 64, 'backbone.bu_conv1.dconv.bn': 102, 'backbone.bu_conv1.pconv.bn': 128, 'backbone.C3_n4.conv1.bn': 128, 'backbone.C3_n4.conv2.bn': 128, 'backbone.C3_n4.conv3.bn': 256, 'backbone.C3_n4.m.0.conv1.bn': 125, 'backbone.C3_n4.m.0.conv2.dconv.bn': 128, 'backbone.C3_n4.m.0.conv2.pconv.bn': 128, 'head.cls_convs.0.0.dconv.bn': 64, 'head.cls_convs.0.0.pconv.bn': 64, 'head.cls_convs.0.1.dconv.bn': 64, 'head.cls_convs.0.1.pconv.bn': 64, 'head.cls_convs.1.0.dconv.bn': 64, 'head.cls_convs.1.0.pconv.bn': 64, 'head.cls_convs.1.1.dconv.bn': 64, 'head.cls_convs.1.1.pconv.bn': 64, 'head.cls_convs.2.0.dconv.bn': 64, 'head.cls_convs.2.0.pconv.bn': 64, 'head.cls_convs.2.1.dconv.bn': 64, 'head.cls_convs.2.1.pconv.bn': 64, 'head.reg_convs.0.0.dconv.bn': 64, 'head.reg_convs.0.0.pconv.bn': 64, 'head.reg_convs.0.1.dconv.bn': 64, 'head.reg_convs.0.1.pconv.bn': 64, 'head.reg_convs.1.0.dconv.bn': 64, 'head.reg_convs.1.0.pconv.bn': 64, 'head.reg_convs.1.1.dconv.bn': 64, 'head.reg_convs.1.1.pconv.bn': 64, 'head.reg_convs.2.0.dconv.bn': 64, 'head.reg_convs.2.0.pconv.bn': 64, 'head.reg_convs.2.1.dconv.bn': 64, 'head.reg_convs.2.1.pconv.bn': 64, 'head.stems.0.bn': 64, 'head.stems.1.bn': 64, 'head.stems.2.bn': 64}
Traceback (most recent call last):
  File "prun_train/prune.py", line 243, in <module>
    main(exp,args)
  File "prun_train/prune.py", line 209, in main
    loose_model, prune_mask_dict, prune_bn_dict, mask_bn_channel_dict)
  File "prun_train/prune.py", line 92, in init_weights_from_loose_model
    pruned_model = yolox_prun(mask_bn_channel_dict)
  File "/data/happyhoo97/repos/YOLOX/prun_train/prune_model.py", line 659, in __init__
    backbone = YOLOPAFPN_prune(mask_bn_channel_dict=mask_bn_channel_dict)
  File "/data/happyhoo97/repos/YOLOX/prun_train/prune_model.py", line 323, in __init__
    depth, width, mask_bn_channel_dict=mask_bn_channel_dict, depthwise=depthwise, act=act)
  File "/data/happyhoo97/repos/YOLOX/prun_train/prune_model.py", line 128, in __init__
    bottle_cv1out = mask_bn_channel_dict[named_m_bottle_cv1_bn]
KeyError: 'backbone.backbone.dark2.1.m.1.conv1.bn'
done
